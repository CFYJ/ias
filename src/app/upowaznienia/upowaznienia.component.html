<table style="width:100%">
  <tr>
    <td style="width:100%" colspan="2">
      <jqxToolbar #upowaznieniaToolBar [height]='40'  [tools]="tools" [auto-create]='false'
      [initTools]="initTools" 
      [theme]='"darkblue"'>
      </jqxToolbar>
      <!-- *ngIf="authService.checkIfUserIsInRole('Admin_upowaznienia')" -->

      <!-- [hidden]="!authService.checkIfUserIsInRole('Admin_upowaznienia')" -->
    </td>
   
</tr>
<tr>
  <td style="vertical-align: top;">
    <jqxGrid id="jqxgrid" #gridReference
    [columns]="columns"  [auto-create]='false'
   [autoheight]="true" [sortable]="true" 
    [altrows]="true"  [enabletooltips]="true"  [editable]="false" 
    [selectionmode]="'multiplecellsadvanced'" 
    (onCellclick)="Cellselect($event)"   

    ></jqxGrid>
    <!-- [source]="dataAdapter"  -->
  </td>

  <td style="width:50%; vertical-align:top;" >
      <div *ngIf="selectedRow!=null">
        <table   class="ditailsTable">
          <tr>
            <td class="tableLabel" style="width:30%">Wniosek o nadanie uprawnień</td>
            <td>{{selectedRow.wniosek_nadania_upr}}</td>
          </tr>
          <tr>
              <td class="tableLabel">Nadający uprawnienia</td>
              <td>{{selectedRow.nadajacy_upr}}</td>
          </tr>
          <tr>
              <td class="tableLabel">Prowadzący rejestr użytkowników</td>
              <td>{{selectedRow.prowadzacy_rejestr_uzyt}}</td>
          </tr>
          <tr>
              <td class="tableLabel">Wniosek o odebranie uprawnień</td>
              <td>{{selectedRow.wniosek_odebrania_upr}}</td>
          </tr>
          <tr>
              <td class="tableLabel">Odbierający uprawnienia</td>
              <td>{{selectedRow.odbierajacy_upr}}</td>
          </tr>
          <tr>
              <td class="tableLabel">Decyzja</td>
              <td>{{selectedRow.decyzja}}</td>
          </tr>
          <tr>
              <td class="tableLabel">Uwagi</td>
              <td>{{selectedRow.uwagi}}</td>
          </tr>
          <tr>
              <td class="tableLabel">Załączone pliki</td>
              <td *ngIf="selectedRow.upowaznieniaPliki!=null">
                <div  *ngFor="let plik of selectedRow.upowaznieniaPliki">
                  <p><a class="fileButton"  target="_blank"  href="{{basePlikiurl}}{{plik.idPliku}}">{{plik.nazwa}}</a></p>
                </div>
              </td>
          </tr>
        </table>
      </div >
    </td>
</tr>
</table>



<jqxWindow #jqxwindow1 [auto-create]='false' >
    <div>Edycja</div>
    <div style="overflow: auto;">
      <table>
        <tr>
          <td class="upowaznieniaTextAreaLabel">Nazwa</td>
          <td align="left">
            <!-- <jqxInput #nazwa [auto-create]='false'></jqxInput> -->
            <textarea id='nazwa' class='jqx-input jqx-widget jqx-widget-content inputformStyle'>{{nazwa}}</textarea>
          </td>
        </tr>
        <tr>
          <td align="right" >Nazwa skrócona</td>
          <td align="left">
            <jqxInput #nazwa_skrocona [auto-create]='false'></jqxInput>
          </td>
        </tr>
        <tr>
          <td class="upowaznieniaTextAreaLabel">Wniosek nadania uprawnień</td>
          <td align="left">
            <jqxInput #wniosek_nadania_upr [auto-create]='false'></jqxInput>
          </td>
        </tr>
        <tr>
            <td align="right">Nadający uprawnienia</td>
            <td align="left">
              <jqxInput #nadajacy_upr [auto-create]='false'></jqxInput>
            </td>
          </tr>
          <tr>
            <td align="right">Prowadzący rejestr użytkowników</td>
            <td align="left">
              <jqxInput #prowadzacy_rejestr_uzyt [auto-create]='false'></jqxInput>
            </td>
          </tr>
          <tr>
            <td align="right">Wniosek odebrania uprawnień</td>
            <td align="left">
              <jqxInput #wniosek_odebrania_upr [auto-create]='false'></jqxInput>
            </td>
          </tr>
          <tr>
            <td align="right">Odbierający uprawnienia</td>
            <td align="left">
              <jqxInput #odbierajacy_upr [auto-create]='false'></jqxInput>
            </td>
          </tr>
          <tr>
            <td align="right">Opiekun</td>
            <td align="left">
              <jqxInput #opiekun [auto-create]='false'></jqxInput>
            </td>
          </tr>
          <tr>
            <td align="right">Adres email</td>
            <td align="left">
              <jqxInput #adres_email [auto-create]='false'></jqxInput>
            </td>
          </tr>
          <tr>
            <td align="right">Decyzja</td>
            <td align="left">
              <jqxInput #decyzja [auto-create]='false'></jqxInput>
             
            </td>
          </tr>
          <tr>
            <td align="right">Uwagi</td>
            <td align="left">
              <jqxInput #uwagi [auto-create]='false'></jqxInput>
            </td>
          </tr>
          <tr>
            <td class="upowaznieniaTextAreaLabel">Załączone pliki</td>
            <td align="left" id="addedFiles" >
              <!-- <div *ngFor="let plik of pliki" (click)='testf(plik.nazwa)'>{{plik.nazwa}}</div> -->                         
              <table>
                <tr *ngFor="let plik of pliki">
                  <td><button  (click)='deleteFile(plik)'>-</button></td>
                  <td>{{plik.nazwa}}</td>
                </tr>
              </table>
            </td>
          </tr>
          <tr>
            <td align="right">Dodaj plik</td>
            <td align="left">
              <!-- <jqxFileUpload #fileuploadbutton [auto-create]='false' (change)="uploadFile($event)" ></jqxFileUpload> -->
              <input id="file-field" name="file-field" (change)="uploadFile($event)" type="file" >
              <!-- accept=".png,.jpg,.jpeg" -->
            </td>
          </tr>
        <tr>
          <td align="right"></td>
          <td style="padding-top: 10px;" align="right">
            <jqxButton #buttonReference [auto-create]='false' (onClick)="buttonSaveClicked()">Zapisz</jqxButton>
            <jqxButton #buttonReference1 [auto-create]='false' (onClick)="buttonCancelClicked()">Anuluj</jqxButton>
          </td>
        </tr>
        
      </table>
    </div>
</jqxWindow>

  
<jqxWindow #jqxwindowDelete [auto-create]='false'>
<div>
    <p id="questionTagWindow"></p>  
    <p></p>
    <p>
      <jqxButton #buttonDelYesReference [auto-create]='false' [width]="40" (onClick)="buttondelyesClicked()">Tak</jqxButton>
      <jqxButton #buttonDelNoReference [auto-create]='false' [width]="40" (onClick)="buttondelnoClicked()">Nie</jqxButton>
    </p>
  </div>
</jqxWindow>  

  <!-- <jqxWindow #jqxwindow2 [auto-create]='false'></jqxWindow> -->